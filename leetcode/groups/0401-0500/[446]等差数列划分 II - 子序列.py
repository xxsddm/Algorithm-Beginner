# ç»™ä½ 1ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè¿”å› nums ä¸­æ‰€æœ‰ ç­‰å·®å­åºåˆ— çš„æ•°ç›®ã€‚ 
# 
#  å¦‚æœ1ä¸ªåºåˆ—ä¸­ è‡³å°‘æœ‰ä¸‰ä¸ªå…ƒç´  ï¼Œå¹¶ä¸”ä»»æ„ä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¹‹å·®ç›¸åŒï¼Œåˆ™ç§°è¯¥åºåˆ—ä¸ºç­‰å·®åºåˆ—ã€‚ 
# 
#  
#  ä¾‹å¦‚ï¼Œ[1, 3, 5, 7, 9]ã€[7, 7, 7, 7] å’Œ [3, -1, -5, -9] éƒ½æ˜¯ç­‰å·®åºåˆ—ã€‚ 
#  å†ä¾‹å¦‚ï¼Œ[1, 1, 2, 5, 7] ä¸æ˜¯ç­‰å·®åºåˆ—ã€‚ 
#  
# 
#  æ•°ç»„ä¸­çš„å­åºåˆ—æ˜¯ä»æ•°ç»„ä¸­åˆ é™¤1äº›å…ƒç´ ï¼ˆä¹Ÿå¯èƒ½ä¸åˆ é™¤ï¼‰å¾—åˆ°çš„1ä¸ªåºåˆ—ã€‚ 
# 
#  
#  ä¾‹å¦‚ï¼Œ[2,5,10] æ˜¯ [1,2,1,2,4,1,5,10] çš„1ä¸ªå­åºåˆ—ã€‚ 
#  
# 
#  é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆæ˜¯1ä¸ª 32-bit æ•´æ•°ã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ 1ï¼š 
# 
#  
# è¾“å…¥ï¼šnums = [2,4,6,8,10]
# è¾“å‡ºï¼š7
# è§£é‡Šï¼šæ‰€æœ‰çš„ç­‰å·®å­åºåˆ—ä¸ºï¼š
# [2,4,6]
# [4,6,8]
# [6,8,10]
# [2,4,6,8]
# [4,6,8,10]
# [2,4,6,8,10]
# [2,6,10]
#  
# 
#  ç¤ºä¾‹ 2ï¼š 
# 
#  
# è¾“å…¥ï¼šnums = [7,7,7,7,7]
# è¾“å‡ºï¼š16
# è§£é‡Šï¼šæ•°ç»„ä¸­çš„ä»»æ„å­åºåˆ—éƒ½æ˜¯ç­‰å·®å­åºåˆ—ã€‚
#  
# 
#  
# 
#  æç¤ºï¼š 
# 
#  
#  1 <= nums.length <= 1000 
#  -231 <= nums[i] <= 231 - 1 
#  
#  Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ 
#  ğŸ‘ 124 ğŸ‘ 0


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def numberOfArithmeticSlices(self, nums: List[int]) -> int:
        container = [{} for _ in nums]    # å„ç´¢å¼•å¯¹åº”ä¸€ä¸ªå“ˆå¸Œè¡¨, ä¿å­˜è¯¥ç´¢å¼•ä¸ºç¬¬2ä¸ªç‚¹, ä»¥ç›¸åº”å·®å€¼æ‰€èƒ½æ„å»ºç­‰å·®æ•°åˆ—çš„æ•°é‡
        count = 0
        for first in range(len(nums) - 1):                # firstæŒ‡ç¬¬1ä¸ªæ‰«æç‚¹, ä¸æ˜¯æ•°åˆ—ä¸­ç¬¬1ä¸ªå…ƒç´ 
            for second in range(first + 1, len(nums)):    # secondæŒ‡ç¬¬2ä¸ªæ‰«æç‚¹, ä¸æ˜¯æ•°åˆ—ä¸­ç¬¬1ä¸ªå…ƒç´ 
                diff = nums[second] - nums[first]
                if diff not in container[first]:
                    container[first][diff] = 0
                if diff not in container[second]:
                    container[second][diff] = 0    # ç¬¬1æ¬¡æ‰«è¿‡è¯¥ç‚¹, å…¶ä½œä¸ºsecond, è¯´æ˜ä½œä¸ºç¬¬2ä¸ªç‚¹æ— ç›¸åº”ç»„åˆ, å³0

                # å½“firstæ²¡æœ‰é…å¯¹çš„second, å°†æ°¸è¿œä¸º0, è‹¥è¢«secondæ‰«è¿‡, è¯´æ˜å…¶è‹¥ä½œä¸ºç¬¬2ä¸ªç‚¹è€Œéåˆå§‹ç‚¹, å¯æŒ‰å…¶ç›¸åº”å€¼å¢åŠ æ€»æ•°
                count += container[first][diff]

                # è‹¥ä»¥firstä¸ºä¸­ç‚¹, æœ‰numç§ç»„åˆ, é‚£ä¹ˆä»¥secondä¸ºç¬¬2ä¸ªç‚¹ä¼šé¢å¤–å¢åŠ num+1ç§(å¤š1ä¸ªåˆå§‹ç‚¹ä¸ºfirstçš„æƒ…å†µ)
                container[second][diff] += container[first][diff] + 1
        return count
# leetcode submit region end(Prohibit modification and deletion)
